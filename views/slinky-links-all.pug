extends layout

block content

    link(rel='stylesheet', href='/datepicker/css/bootstrap-datepicker.min.css')
    script(src='/datepicker/js/bootstrap-datepicker.min.js')
    script(src='/javascripts/common.js')
    script(src='/javascripts/slinky-links.js')
    script.
        var all_users = !{JSON.stringify(users)};
        $(document).ready(function() { $('#link-type').val('!{selected_filters.link_type}'); });

    h3(class='text-center') All Links

    br

    div(class='container')
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Domain
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='hostname' placeholder='Domain' value=selected_filters.hostname)
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') User
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='username' placeholder='Username' value=selected_filters.username autocomplete='off')
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Campaign
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='campaign' placeholder='Destination URL' value=selected_filters.campaign)
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Domain Authority
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='domain_authority' placeholder='Domain Authority' value=selected_filters.domain_authority)
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Link Type
                    div(class='col-sm-8')
                        select(class='form-control' id='link-type' value=selected_filters.link_type)
                            option(value='')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Spam Score
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='spam_score' placeholder='Spam Score' value=selected_filters.spam_score)
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Destination URL
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='destination_url' placeholder='Destination URL' value=selected_filters.destination_url)
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Page Rank
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='page_rank' placeholder='Page Rank' value=selected_filters.page_rank)
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Link URL
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='link_url' placeholder='Link URL' value=selected_filters.link_url)
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Title
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='title' placeholder='Title' value=selected_filters.title)
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Anchor Text
                    div(class='col-sm-8')
                        input(type='text' class='form-control' id='anchor_text' placeholder='Anchor Text' value=selected_filters.anchor_text)
            div(class='col-sm-6')
                div(class='form-group')
                    
        div(class='row')
            div(class='col-sm-6')
                div(class='form-group')
                    label(class='col-sm-4 control-label') Link Live Date
                    div(class='col-sm-8')
                        div(class='input-group')
                            span(class='input-group-addon') From
                            div(class='input-group date' data-provide='datepicker' data-date-format='yyyy-mm-dd')
                                input(class='form-control' id='link_live_date_start' placeholder='Start Date' value=selected_filters.link_live_date_start)
                                div(class='input-group-addon')
                                    span(class='glyphicon glyphicon-calendar')
                            span(class='input-group-addon' style='border-left: 0; border-right: 0;') to
                            div(class='input-group date' data-provide='datepicker' data-date-format='yyyy-mm-dd')
                                input(class='form-control' id='link_live_date_end' placeholder='End Date' value=selected_filters.link_live_date_end)
                                div(class='input-group-addon')
                                    span(class='glyphicon glyphicon-calendar')
            div(class='col-sm-6')
                div(class='form-group')
        div(class='row') &nbsp;
        div(class='row')
            div(class='col-sm-12 text-center')
                div(class='form-group')
                    button(type='button' class='btn btn-primary' onClick='filterLinks();') Filter
                    a(href='/slinky-links/links/all' class='btn btn-primary') Reset

    br

    div(class='container')
        div(class='row text-center')
            span Additional Columns to Show
            label(for='checkbox-campaign')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-campaign' onChange='checkAllCheckboxes()')
                    | &nbsp;Campaign
            label(for='checkbox-user')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-user' onChange='checkAllCheckboxes()')
                    | &nbsp;User
            label(for='checkbox-anchor-text')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-anchor-text' onChange='checkAllCheckboxes()')
                    | &nbsp;Anchor Text
            label(for='checkbox-domain-authority')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-domain-authority' onChange='checkAllCheckboxes()')
                    | &nbsp;Domain Authority
            label(for='checkbox-spam-score')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-spam-score' onChange='checkAllCheckboxes()')
                    | &nbsp;Spam Score
            label(for='checkbox-page-rank')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-page-rank' onChange='checkAllCheckboxes()')
                    | &nbsp;Page Rank
            label(for='checkbox-title')
                span(class='checkbox-group')
                    input(type='checkbox' id='checkbox-title' onChange='checkAllCheckboxes()')
                    | &nbsp;Title

    br

    table(class='table table-bordered' style='table-layout:fixed;word-wrap:break-word;')
        thead
            tr
                th(class='c-domain') Domain
                th(class='c-campaign') Campaign
                th(class='c-user') User
                th(class='c-link-type') Link Type
                th(class='c-destination-url') Destination URL
                th(class='c-link-url') Link URL
                th(class='c-anchor-text') Anchor Text
                th(class='c-link-live-date') Link Live Date
                th(class='c-domain-authority') Domain Authority
                th(class='c-spam-score') Spam Score
                th(class='c-page-rank') Page Rank
                th(class='c-title') Title
                th 
        tbody(id='links-table')
            each link in links
                tr(class='links-data' id='link-'+link.LinkID)
                    td(style='vertical-align:middle;' class='c-domain')= link.HostName
                    td(style='vertical-align:middle;' class='c-campaign')= link.CampaignName
                    td(style='vertical-align:middle;' class='c-user')= link.Username
                    td(style='vertical-align:middle;' class='link-type-values c-link-type')= link.LinkTypeID
                    td(style='vertical-align:middle;word-wrap:break-word;' class='c-destination-url')= link.DestinationURL
                    td(style='vertical-align:middle;word-wrap:break-word;' class='c-link-url')= link.LinkURL
                    td(style='vertical-align:middle;' class='c-anchor-text')= link.AnchorText
                    td(style='vertical-align:middle;' class='text-center c-link-live-date') #{moment(link.LinkLiveDate).format("YYYY-MM-DD")}
                    td(style='vertical-align:middle;' class='c-domain-authority')= link.DomainAuthority
                    td(style='vertical-align:middle;' class='c-spam-score')= link.SpamScore
                    td(style='vertical-align:middle;' class='c-page-rank')= link.PageRank
                    td(style='vertical-align:middle;' class='c-title')= link.PageTitle
                    td(class='text-center' style='vertical-align:middle;')
                        a(href='/slinky-links/links/view?LinkID='+link.LinkID class='btn btn-primary btn-xs') View
                        if (UserId == link.UserID)
                            a(href='/slinky-links/links/edit?LinkID='+link.LinkID class='btn btn-warning btn-xs') Edit
                            button(onClick='deleteLink('+link.LinkID+')' class='btn btn-danger btn-xs') Delete